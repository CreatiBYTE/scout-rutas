"use strict";(self.webpackChunkscout_rutas=self.webpackChunkscout_rutas||[]).push([[7],{9007:(h,u,r)=>{r.r(u),r.d(u,{FirebaseTestComponent:()=>F});var m=r(467),c=r(2881),a=r(9417),p=r(6704),f=r(9978),b=r(8834),i=r(2690),t=r(1360),g=r(2392);function d(s,_){if(1&s){const e=t.RV6();t.j41(0,"li"),t.EFF(1),t.j41(2,"button",6),t.bIt("click",function(){const n=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.leer(n.id))}),t.EFF(3,"Leer"),t.k0s(),t.j41(4,"button",7),t.bIt("click",function(){const n=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.actualizar(n))}),t.EFF(5,"Actualizar"),t.k0s(),t.j41(6,"button",8),t.bIt("click",function(){const n=t.eBV(e).$implicit,l=t.XpG();return t.Njj(l.eliminar(n.id))}),t.EFF(7,"Eliminar"),t.k0s()()}if(2&s){const e=_.$implicit;t.R7$(),t.SpI(" ",e.nombre," ")}}function E(s,_){if(1&s&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&s){const e=_.$implicit;t.R7$(),t.JRh(e)}}let F=(()=>{class s{firestore;fb;form;items$;logs=[];itemsRef;constructor(e,o){this.firestore=e,this.fb=o,this.itemsRef=(0,i.rJ)(this.firestore,"prueba"),this.items$=(0,i.xs)(this.itemsRef,{idField:"id"}),this.form=this.fb.group({nombre:[""]})}crear(){var e=this;return(0,m.A)(function*(){const o=e.form.value.nombre?.trim();o&&(yield(0,i.gS)(e.itemsRef,{nombre:o}),e.agregarLog(`Creado documento con nombre: ${o}`),console.log("Documento creado:",o),e.form.reset())})()}leer(e){(0,i.Bg)((0,i.H9)(this.firestore,`prueba/${e}`)).subscribe(o=>{this.agregarLog(`Le\xeddo documento ${e}: ${JSON.stringify(o)}`),console.log("Documento le\xeddo:",e,o)})}actualizar(e){var o=this;return(0,m.A)(function*(){const n=prompt("Nuevo nombre",e.nombre);n&&(yield(0,i.mZ)((0,i.H9)(o.firestore,`prueba/${e.id}`),{nombre:n}),o.agregarLog(`Actualizado documento ${e.id} a nombre: ${n}`),console.log("Documento actualizado:",e.id,n))})()}eliminar(e){var o=this;return(0,m.A)(function*(){yield(0,i.kd)((0,i.H9)(o.firestore,`prueba/${e}`)),o.agregarLog(`Eliminado documento ${e}`),console.log("Documento eliminado:",e)})()}agregarLog(e){this.logs.unshift(e)}static \u0275fac=function(o){return new(o||s)(t.rXU(i._7),t.rXU(a.ok))};static \u0275cmp=t.VBU({type:s,selectors:[["app-firebase-test"]],decls:19,vars:5,consts:[[1,"firebase-test-container"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nombre"],["mat-raised-button","","color","primary","type","submit"],[4,"ngFor","ngForOf"],["mat-button","","color","accent",3,"click"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"Prueba de Firebase"),t.k0s(),t.j41(3,"form",1),t.bIt("ngSubmit",function(){return n.crear()}),t.j41(4,"mat-form-field",2)(5,"mat-label"),t.EFF(6,"Nombre"),t.k0s(),t.nrm(7,"input",3),t.k0s(),t.j41(8,"button",4),t.EFF(9,"Crear documento"),t.k0s()(),t.j41(10,"h3"),t.EFF(11,"Documentos"),t.k0s(),t.j41(12,"ul"),t.DNE(13,d,8,1,"li",5),t.nI1(14,"async"),t.k0s(),t.j41(15,"h3"),t.EFF(16,"Registro de acciones"),t.k0s(),t.j41(17,"ul"),t.DNE(18,E,2,1,"li",5),t.k0s()()),2&o&&(t.R7$(3),t.Y8G("formGroup",n.form),t.R7$(10),t.Y8G("ngForOf",t.bMT(14,3,n.items$)),t.R7$(5),t.Y8G("ngForOf",n.logs))},dependencies:[c.MD,c.Sq,c.Jj,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,p.M,g.j,g.M,f.fS,f.fg,b.Hl,b.$z],styles:[".firebase-test-container[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:1rem}.full-width[_ngcontent-%COMP%]{width:100%}ul[_ngcontent-%COMP%]{list-style:none;padding-left:0}li[_ngcontent-%COMP%]{margin-bottom:.5rem}"]})}return s})()}}]);