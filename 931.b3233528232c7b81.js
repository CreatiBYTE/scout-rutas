(self.webpackChunkscout_rutas=self.webpackChunkscout_rutas||[]).push([[931],{243:S=>{"use strict";var a={single_source_shortest_paths:function(l,s,o){var n={},i={};i[s]=0;var c,t,u,f,b,h,r=a.PriorityQueue.make();for(r.push(s,0);!r.empty();)for(u in f=(c=r.pop()).cost,b=l[t=c.value]||{})b.hasOwnProperty(u)&&(h=f+b[u],(typeof i[u]>"u"||i[u]>h)&&(i[u]=h,r.push(u,h),n[u]=t));if(typeof o<"u"&&typeof i[o]>"u"){var N=["Could not find a path from ",s," to ",o,"."].join("");throw new Error(N)}return n},extract_shortest_path_from_predecessor_list:function(l,s){for(var o=[],n=s;n;)o.push(n),n=l[n];return o.reverse(),o},find_path:function(l,s,o){var n=a.single_source_shortest_paths(l,s,o);return a.extract_shortest_path_from_predecessor_list(n,o)},PriorityQueue:{make:function(l){var n,s=a.PriorityQueue,o={};for(n in l=l||{},s)s.hasOwnProperty(n)&&(o[n]=s[n]);return o.queue=[],o.sorter=l.sorter||s.default_sorter,o},default_sorter:function(l,s){return l.cost-s.cost},push:function(l,s){this.queue.push({value:l,cost:s}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};S.exports=a},377:(S,a)=>{a.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}},1018:(S,a,l)=>{const s=l(1677),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(i){this.mode=s.ALPHANUMERIC,this.data=i}n.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let c;for(c=0;c+2<=this.data.length;c+=2){let t=45*o.indexOf(this.data[c]);t+=o.indexOf(this.data[c+1]),r.put(t,11)}this.data.length%2&&r.put(o.indexOf(this.data[c]),6)},S.exports=n},1252:(S,a,l)=>{const s=l(9089),o=l(3677),n=l(7424),i=l(1677),r=l(377),t=s.getBCHDigit(7973);function f(h,w){return i.getCharCountIndicator(h,w)+4}function b(h,w){let R=0;return h.forEach(function(N){const U=f(N.mode,w);R+=U+N.getBitsLength()}),R}a.from=function(w,R){return r.isValid(w)?parseInt(w,10):R},a.getCapacity=function(w,R,N){if(!r.isValid(w))throw new Error("Invalid QR Code version");typeof N>"u"&&(N=i.BYTE);const L=8*(s.getSymbolTotalCodewords(w)-o.getTotalCodewordsCount(w,R));if(N===i.MIXED)return L;const B=L-f(N,w);switch(N){case i.NUMERIC:return Math.floor(B/10*3);case i.ALPHANUMERIC:return Math.floor(B/11*2);case i.KANJI:return Math.floor(B/13);default:return Math.floor(B/8)}},a.getBestVersionForData=function(w,R){let N;const U=n.from(R,n.M);if(Array.isArray(w)){if(w.length>1)return function A(h,w){for(let R=1;R<=40;R++)if(b(h,R)<=a.getCapacity(R,w,i.MIXED))return R}(w,U);if(0===w.length)return 1;N=w[0]}else N=w;return function u(h,w,R){for(let N=1;N<=40;N++)if(w<=a.getCapacity(N,R,h))return N}(N.mode,N.getLength(),U)},a.getEncodedBits=function(w){if(!r.isValid(w)||w<7)throw new Error("Invalid QR Code version");let R=w<<12;for(;s.getBCHDigit(R)-t>=0;)R^=7973<<s.getBCHDigit(R)-t;return w<<12|R}},1677:(S,a,l)=>{const s=l(377),o=l(9359);a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(r,c){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!s.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?r.ccBits[0]:c<27?r.ccBits[1]:r.ccBits[2]},a.getBestModeForData=function(r){return o.testNumeric(r)?a.NUMERIC:o.testAlphanumeric(r)?a.ALPHANUMERIC:o.testKanji(r)?a.KANJI:a.BYTE},a.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},a.isValid=function(r){return r&&r.bit&&r.ccBits},a.from=function(r,c){if(a.isValid(r))return r;try{return function n(i){if("string"!=typeof i)throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+i)}}(r)}catch{return c}}},1744:(S,a,l)=>{const s=l(6686);a.mul=function(n,i){const r=new Uint8Array(n.length+i.length-1);for(let c=0;c<n.length;c++)for(let t=0;t<i.length;t++)r[c+t]^=s.mul(n[c],i[t]);return r},a.mod=function(n,i){let r=new Uint8Array(n);for(;r.length-i.length>=0;){const c=r[0];for(let u=0;u<i.length;u++)r[u]^=s.mul(i[u],c);let t=0;for(;t<r.length&&0===r[t];)t++;r=r.slice(t)}return r},a.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let r=0;r<n;r++)i=a.mul(i,new Uint8Array([1,s.exp(r)]));return i}},1931:(S,a,l)=>{"use strict";l.r(a),l.d(a,{ListaRutasComponent:()=>M});var s=l(2881),o=l(7139),n=l(8834),i=l(1224),r=l(969),c=l(467),t=l(1360),u=l(8314),f=l(345);const b=["qrcElement"];let A=(()=>{class d{constructor(e,g){this.renderer=e,this.sanitizer=g,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.bkB,this.context=null}ngOnChanges(){var e=this;return(0,c.A)(function*(){yield e.createQRCode()})()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(typeof e>"u"||""===e||"null"===e||null===e):!(typeof e>"u")}toDataURL(e){return new Promise((g,p)=>{(0,u.toDataURL)(this.qrdata,e,(I,F)=>{I?p(I):g(F)})})}toCanvas(e,g){return new Promise((p,I)=>{(0,u.toCanvas)(e,this.qrdata,g,F=>{F?I(F):p("success")})})}toSVG(e){return new Promise((g,p)=>{(0,u.toString)(this.qrdata,e,(I,F)=>{I?p(I):g(F)})})}renderElement(e){for(const g of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,g);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){var e=this;return(0,c.A)(function*(){e.version&&e.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),e.version=40):e.version&&e.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),e.version=1):void 0!==e.version&&isNaN(e.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),e.version=void 0);try{if(!e.isValidQrCodeText(e.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");e.isValidQrCodeText(e.qrdata)&&""===e.qrdata&&(e.qrdata=" ");const g={color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},p=e.imageSrc,I=e.imageHeight||40,F=e.imageWidth||40;switch(e.elementType){case"canvas":{const O=e.renderer.createElement("canvas");e.context=O.getContext("2d"),e.toCanvas(O,g).then(()=>{if(e.ariaLabel&&e.renderer.setAttribute(O,"aria-label",`${e.ariaLabel}`),e.title&&e.renderer.setAttribute(O,"title",`${e.title}`),p&&e.context){e.centerImage=new Image(F,I),p!==e.centerImage.src&&(e.centerImage.crossOrigin="anonymous",e.centerImage.src=p),I!==e.centerImage.height&&(e.centerImage.height=I),F!==e.centerImage.width&&(e.centerImage.width=F);const D=e.centerImage;D&&(D.onload=()=>{e.context?.drawImage(D,O.width/2-F/2,O.height/2-I/2,F,I)})}e.renderElement(O),e.emitQRCodeURL(O)}).catch(D=>{console.error("[angularx-qrcode] canvas error:",D)});break}case"svg":{const O=e.renderer.createElement("div");e.toSVG(g).then(D=>{e.renderer.setProperty(O,"innerHTML",D);const z=O.firstChild;e.renderer.setAttribute(z,"height",`${e.width}`),e.renderer.setAttribute(z,"width",`${e.width}`),e.renderElement(z),e.emitQRCodeURL(z)}).catch(D=>{console.error("[angularx-qrcode] svg error:",D)});break}default:{const O=e.renderer.createElement("img");e.toDataURL(g).then(D=>{e.alt&&O.setAttribute("alt",e.alt),e.ariaLabel&&O.setAttribute("aria-label",e.ariaLabel),O.setAttribute("src",D),e.title&&O.setAttribute("title",e.title),e.renderElement(O),e.emitQRCodeURL(O)}).catch(D=>{console.error("[angularx-qrcode] img/url error:",D)})}}}catch(g){console.error("[angularx-qrcode] Error generating QR Code:",g.message)}})()}convertBase64ImageUrlToBlob(e){const g=e.split(";base64,"),p=g[0].split(":")[1],I=atob(g[1]),F=new Uint8Array(I.length);for(let O=0;O<I.length;++O)F[O]=I.charCodeAt(O);return new Blob([F],{type:p})}emitQRCodeURL(e){const g=e.constructor.name;if(g===SVGSVGElement.name){const z=new Blob([e.outerHTML],{type:"image/svg+xml"}),H=URL.createObjectURL(z),x=this.sanitizer.bypassSecurityTrustUrl(H);return void this.qrCodeURL.emit(x)}let p="";g===HTMLCanvasElement.name&&(p=e.toDataURL("image/png")),g===HTMLImageElement.name&&(p=e.src);const I=this.convertBase64ImageUrlToBlob(p),F=URL.createObjectURL(I),O=this.sanitizer.bypassSecurityTrustUrl(F);this.qrCodeURL.emit(O)}static{this.\u0275fac=function(g){return new(g||d)(t.rXU(t.sFG),t.rXU(f.up))}}static{this.\u0275cmp=t.VBU({type:d,selectors:[["qrcode"]],viewQuery:function(g,p){if(1&g&&t.GBs(b,7),2&g){let I;t.mGM(I=t.lsd())&&(p.qrcElement=I.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(g,p){1&g&&t.nrm(0,"div",null,0),2&g&&t.HbH(p.cssClass)},encapsulation:2,changeDetection:0})}}return d})();var h=l(1114),w=l(2281),R=l(695);const N=["miniMapa"],U=()=>({zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,gestureHandling:"cooperative",keyboardShortcuts:!1}),T=()=>({strokeColor:"#1976d2",strokeOpacity:.8,strokeWeight:4}),L=(d,y)=>({lat:d,lng:y});function B(d,y){1&d&&(t.j41(0,"div",6),t.EFF(1,' A\xfan no has creado rutas. Ve a "Crear Ruta" para empezar una aventura. '),t.k0s())}function P(d,y){if(1&d&&(t.j41(0,"p",9),t.EFF(1),t.k0s()),2&d){const e=t.XpG().$implicit;t.R7$(),t.SpI("Equipos: ",null==e.equipos?null:e.equipos.join(", "),"")}}function k(d,y){if(1&d&&(t.j41(0,"div",17)(1,"p",9),t.EFF(2),t.k0s()()),2&d){const e=t.XpG().$implicit;t.R7$(2),t.SpI("Esta ruta tiene ",e.puntos.length," puntos.")}}function j(d,y){if(1&d&&(t.j41(0,"div",18),t.nrm(1,"qrcode",19),t.j41(2,"p",9),t.EFF(3,"Escan\xe9ame para navegar en celular"),t.k0s()()),2&d){const e=t.XpG().$implicit,g=t.XpG();t.R7$(),t.Y8G("qrdata",g.getRutaURL(e.id))("width",160)("errorCorrectionLevel","M")}}function C(d,y){if(1&d){const e=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"h3"),t.EFF(3),t.k0s(),t.j41(4,"p",9),t.EFF(5),t.k0s(),t.DNE(6,P,2,1,"p",10),t.j41(7,"p",9),t.EFF(8),t.k0s()(),t.j41(9,"div",11)(10,"button",12),t.bIt("click",function(){const p=t.eBV(e).$implicit,I=t.XpG();return t.Njj(I.verRuta(p))}),t.j41(11,"mat-icon"),t.EFF(12,"visibility"),t.k0s()(),t.j41(13,"button",13),t.bIt("click",function(){const p=t.eBV(e).$implicit,I=t.XpG();return t.Njj(I.generarQR(p.id))}),t.j41(14,"mat-icon"),t.EFF(15,"qr_code"),t.k0s()(),t.j41(16,"button",14),t.bIt("click",function(){const p=t.eBV(e).$implicit,I=t.XpG();return t.Njj(I.confirmarEliminacion(p.id))}),t.j41(17,"mat-icon"),t.EFF(18,"delete"),t.k0s()()(),t.DNE(19,k,3,1,"div",15)(20,j,4,3,"div",16),t.k0s()}if(2&d){const e=y.$implicit;t.R7$(3),t.JRh(e.nombre),t.R7$(2),t.LHq("",e.fechaInicio," ",e.horaInicio," \u2192 ",e.fechaFin," ",e.horaFin,""),t.R7$(),t.Y8G("ngIf",e.crearEquipos),t.R7$(2),t.SpI("Distancia estimada: ",null==e.distanciaTotal?null:e.distanciaTotal.toFixed(2)," km"),t.R7$(11),t.Y8G("ngIf",e.mostrarDetalle),t.R7$(),t.Y8G("ngIf",e.mostrarQR)}}function _(d,y){if(1&d&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&d){const e=t.XpG(2);t.R7$(),t.JRh(e.rutaMostrada.descripcion)}}function E(d,y){if(1&d&&t.nrm(0,"map-marker",27),2&d){const e=y.$implicit;t.Y8G("position",t.l_i(2,L,e.lat,e.lng))("label",e.nombre||"")}}function m(d,y){if(1&d&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&d){const e=y.$implicit;t.R7$(),t.E5c(" \u{1f4cd} ",e.nombre," (",e.lat,", ",e.lng,") ")}}function v(d,y){if(1&d){const e=t.RV6();t.j41(0,"div",20),t.bIt("click",function(){t.eBV(e);const p=t.XpG();return t.Njj(p.cerrarOverlay())}),t.j41(1,"div",21),t.bIt("click",function(p){return t.eBV(e),t.Njj(p.stopPropagation())}),t.j41(2,"h3"),t.EFF(3),t.k0s(),t.DNE(4,_,2,1,"p",22),t.j41(5,"google-map",23,0),t.DNE(7,E,1,5,"map-marker",24),t.nrm(8,"map-polyline",25),t.k0s(),t.j41(9,"ul"),t.DNE(10,m,2,3,"li",26),t.k0s(),t.j41(11,"button",2),t.bIt("click",function(){t.eBV(e);const p=t.XpG();return t.Njj(p.cerrarOverlay())}),t.EFF(12,"Cerrar"),t.k0s()()()}if(2&d){const e=t.XpG();t.R7$(3),t.JRh(e.rutaMostrada.nombre),t.R7$(),t.Y8G("ngIf",e.rutaMostrada.descripcion),t.R7$(),t.Y8G("center",e.obtenerCentro(e.rutaMostrada))("zoom",14)("options",t.lJ4(9,U)),t.R7$(2),t.Y8G("ngForOf",e.rutaMostrada.puntos),t.R7$(),t.Y8G("path",e.rutaMostrada.puntos)("options",t.lJ4(10,T)),t.R7$(2),t.Y8G("ngForOf",e.rutaMostrada.puntos)}}let M=(()=>{class d{router;rutasService;rutas=[];rutaMostrada=null;rutaCompartida=null;qrUrl="";miniMapa;rutasSub;constructor(e,g){this.router=e,this.rutasService=g}ngOnInit(){this.rutasSub=this.rutasService.obtenerRutas().subscribe({next:e=>{this.rutas=e.sort((g,p)=>{const I=new Date(g.fechaCreacion).getTime();return new Date(p.fechaCreacion).getTime()-I}).map(g=>({...g,mostrarQR:!1,mostrarDetalle:!1}))},error:e=>{console.error("Error al obtener rutas:",e)}})}ngOnDestroy(){this.rutasSub?.unsubscribe()}navegarRuta(e){this.router.navigate(["/navegar",e])}crearRuta(){this.router.navigate(["/crear"])}verRuta(e){this.rutaMostrada=this.rutaMostrada===e?null:e,this.rutaCompartida=null,setTimeout(()=>{if(this.miniMapa&&this.rutaMostrada?.puntos?.length){const g=new google.maps.LatLngBounds;this.rutaMostrada.puntos.forEach(p=>{g.extend(new google.maps.LatLng(p.lat,p.lng))}),this.miniMapa.fitBounds(g)}},300)}compartirRuta(e){this.rutaCompartida=this.rutaCompartida===e?null:e,this.rutaMostrada=null,this.generarQR(e.id)}getRutaURL(e){return`${window.location.origin}/navegar/${e}`}cerrarOverlay(){this.rutaMostrada=null}generarQR(e){const g=this.rutas.find(p=>p.id===e);if(g){g.mostrarQR=!g.mostrarQR;const p=`${window.location.origin}/navegar/${e}`;u.toDataURL(p).then(I=>{this.qrUrl=I}).catch(I=>{console.error("Error generando QR:",I)})}}confirmarEliminacion(e){confirm("\xbfEst\xe1 seguro de eliminar esta ruta?")&&this.rutasService.eliminarRuta(e).then(()=>{this.rutas=this.rutas.filter(g=>g.id!==e),this.rutaMostrada?.id===e&&(this.rutaMostrada=null)}).catch(g=>console.error("Error al eliminar ruta:",g))}obtenerCentro(e){if(!e||!e.puntos||0===e.puntos.length)return{lat:0,lng:0};const g=e.puntos.reduce((p,I)=>({lat:p.lat+I.lat,lng:p.lng+I.lng}),{lat:0,lng:0});return{lat:g.lat/e.puntos.length,lng:g.lng/e.puntos.length}}static \u0275fac=function(g){return new(g||d)(t.rXU(h.Ix),t.rXU(w.r))};static \u0275cmp=t.VBU({type:d,selectors:[["app-lista-rutas"]],viewQuery:function(g,p){if(1&g&&t.GBs(N,5),2&g){let I;t.mGM(I=t.lsd())&&(p.miniMapa=I.first)}},decls:8,vars:3,consts:[["miniMapa",""],[1,"rutas-container"],["mat-raised-button","","color","primary",3,"click"],["class","mensaje-vacio",4,"ngIf"],["class","ruta-card",4,"ngFor","ngForOf"],["class","overlay",3,"click",4,"ngIf"],[1,"mensaje-vacio"],[1,"ruta-card"],[1,"ruta-header"],[1,"texto-muted"],["class","texto-muted",4,"ngIf"],[1,"ruta-actions"],["mat-icon-button","",3,"click"],["mat-icon-button","","matTooltip","Compartir",3,"click"],["mat-icon-button","","color","warn",3,"click"],["class","ruta-detalle",4,"ngIf"],["class","qr-contenedor",4,"ngIf"],[1,"ruta-detalle"],[1,"qr-contenedor"],[3,"qrdata","width","errorCorrectionLevel"],[1,"overlay",3,"click"],[1,"overlay-content",3,"click"],[4,"ngIf"],["height","300px","width","100%",3,"center","zoom","options"],[3,"position","label",4,"ngFor","ngForOf"],[3,"path","options"],[4,"ngFor","ngForOf"],[3,"position","label"]],template:function(g,p){1&g&&(t.j41(0,"div",1)(1,"h2"),t.EFF(2,"Rutas guardadas"),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){return p.crearRuta()}),t.EFF(4,"Nueva ruta"),t.k0s(),t.DNE(5,B,2,0,"div",3)(6,C,21,9,"div",4)(7,v,13,11,"div",5),t.k0s()),2&g&&(t.R7$(5),t.Y8G("ngIf",0===p.rutas.length),t.R7$(),t.Y8G("ngForOf",p.rutas),t.R7$(),t.Y8G("ngIf",p.rutaMostrada))},dependencies:[s.MD,s.Sq,s.bT,o.Fg,n.Hl,n.$z,R.M,i.m_,i.An,r.rJ,r.u6,r.fU,r.ZC,A],styles:[".rutas-container[_ngcontent-%COMP%]{max-width:900px;margin:2rem auto;padding:1rem;font-family:Segoe UI,sans-serif}.rutas-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#4a148c;margin-bottom:1rem;text-align:center}.rutas-container[_ngcontent-%COMP%]   .mensaje-vacio[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#888;margin-top:2rem}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 6px #0000001a;padding:1.2rem 1.5rem;margin-bottom:1.5rem;transition:box-shadow .3s ease}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #00000026}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .ruta-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;color:#333}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .ruta-header[_ngcontent-%COMP%]   .texto-muted[_ngcontent-%COMP%]{font-size:.9rem;color:#777;margin-top:4px}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .ruta-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem;margin-top:.75rem}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .ruta-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:8px}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .ruta-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#673ab7}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .ruta-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .ruta-detalle[_ngcontent-%COMP%]{margin-top:1rem;background-color:#f9f9f9;padding:.8rem;border-radius:8px;border:1px dashed #ccc}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .qr-contenedor[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column;align-items:center;gap:.4rem}.rutas-container[_ngcontent-%COMP%]   .ruta-card[_ngcontent-%COMP%]   .qr-contenedor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#555;text-align:center}.rutas-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000}.rutas-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;width:90%;max-width:500px;max-height:80%;overflow-y:auto;box-shadow:0 8px 24px #00000040}.rutas-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#4a148c}.rutas-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1rem}.rutas-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.4rem}.rutas-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;display:block;margin-left:auto}.rutas-container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   google-map[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:1rem;width:100%;height:300px;box-shadow:0 2px 8px #0000001a}"]})}return d})()},2836:S=>{S.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},2868:(S,a,l)=>{const s=l(1677),o=l(6628),n=l(1018),i=l(4969),r=l(3264),c=l(9359),t=l(9089),u=l(243);function f(T){return unescape(encodeURIComponent(T)).length}function b(T,L,B){const P=[];let k;for(;null!==(k=T.exec(B));)P.push({data:k[0],index:k.index,mode:L,length:k[0].length});return P}function A(T){const L=b(c.NUMERIC,s.NUMERIC,T),B=b(c.ALPHANUMERIC,s.ALPHANUMERIC,T);let P,k;return t.isKanjiModeEnabled()?(P=b(c.BYTE,s.BYTE,T),k=b(c.KANJI,s.KANJI,T)):(P=b(c.BYTE_KANJI,s.BYTE,T),k=[]),L.concat(B,P,k).sort(function(C,_){return C.index-_.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function h(T,L){switch(L){case s.NUMERIC:return o.getBitsLength(T);case s.ALPHANUMERIC:return n.getBitsLength(T);case s.KANJI:return r.getBitsLength(T);case s.BYTE:return i.getBitsLength(T)}}function U(T,L){let B;const P=s.getBestModeForData(T);if(B=s.from(L,P),B!==s.BYTE&&B.bit<P.bit)throw new Error('"'+T+'" cannot be encoded with mode '+s.toString(B)+".\n Suggested mode is: "+s.toString(P));switch(B===s.KANJI&&!t.isKanjiModeEnabled()&&(B=s.BYTE),B){case s.NUMERIC:return new o(T);case s.ALPHANUMERIC:return new n(T);case s.KANJI:return new r(T);case s.BYTE:return new i(T)}}a.fromArray=function(L){return L.reduce(function(B,P){return"string"==typeof P?B.push(U(P,null)):P.data&&B.push(U(P.data,P.mode)),B},[])},a.fromString=function(L,B){const k=function R(T){const L=[];for(let B=0;B<T.length;B++){const P=T[B];switch(P.mode){case s.NUMERIC:L.push([P,{data:P.data,mode:s.ALPHANUMERIC,length:P.length},{data:P.data,mode:s.BYTE,length:P.length}]);break;case s.ALPHANUMERIC:L.push([P,{data:P.data,mode:s.BYTE,length:P.length}]);break;case s.KANJI:L.push([P,{data:P.data,mode:s.BYTE,length:f(P.data)}]);break;case s.BYTE:L.push([{data:P.data,mode:s.BYTE,length:f(P.data)}])}}return L}(A(L,t.isKanjiModeEnabled())),j=function N(T,L){const B={},P={start:{}};let k=["start"];for(let j=0;j<T.length;j++){const C=T[j],_=[];for(let E=0;E<C.length;E++){const m=C[E],v=""+j+E;_.push(v),B[v]={node:m,lastCount:0},P[v]={};for(let M=0;M<k.length;M++){const d=k[M];B[d]&&B[d].node.mode===m.mode?(P[d][v]=h(B[d].lastCount+m.length,m.mode)-h(B[d].lastCount,m.mode),B[d].lastCount+=m.length):(B[d]&&(B[d].lastCount=m.length),P[d][v]=h(m.length,m.mode)+4+s.getCharCountIndicator(m.mode,L))}}k=_}for(let j=0;j<k.length;j++)P[k[j]].end=0;return{map:P,table:B}}(k,B),C=u.find_path(j.map,"start","end"),_=[];for(let E=1;E<C.length-1;E++)_.push(j.table[C[E]].node);return a.fromArray(function w(T){return T.reduce(function(L,B){const P=L.length-1>=0?L[L.length-1]:null;return P&&P.mode===B.mode?(L[L.length-1].data+=B.data,L):(L.push(B),L)},[])}(_))},a.rawSplit=function(L){return a.fromArray(A(L,t.isKanjiModeEnabled()))}},3264:(S,a,l)=>{const s=l(1677),o=l(9089);function n(i){this.mode=s.KANJI,this.data=i}n.getBitsLength=function(r){return 13*r},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let r;for(r=0;r<this.data.length;r++){let c=o.toSJIS(this.data[r]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),i.put(c,13)}},S.exports=n},3361:(S,a)=>{a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function s(o,n,i){switch(o){case a.Patterns.PATTERN000:return(n+i)%2==0;case a.Patterns.PATTERN001:return n%2==0;case a.Patterns.PATTERN010:return i%3==0;case a.Patterns.PATTERN011:return(n+i)%3==0;case a.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case a.Patterns.PATTERN101:return n*i%2+n*i%3==0;case a.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case a.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}}a.isValid=function(n){return null!=n&&""!==n&&!isNaN(n)&&n>=0&&n<=7},a.from=function(n){return a.isValid(n)?parseInt(n,10):void 0},a.getPenaltyN1=function(n){const i=n.size;let r=0,c=0,t=0,u=null,f=null;for(let b=0;b<i;b++){c=t=0,u=f=null;for(let A=0;A<i;A++){let h=n.get(b,A);h===u?c++:(c>=5&&(r+=c-5+3),u=h,c=1),h=n.get(A,b),h===f?t++:(t>=5&&(r+=t-5+3),f=h,t=1)}c>=5&&(r+=c-5+3),t>=5&&(r+=t-5+3)}return r},a.getPenaltyN2=function(n){const i=n.size;let r=0;for(let c=0;c<i-1;c++)for(let t=0;t<i-1;t++){const u=n.get(c,t)+n.get(c,t+1)+n.get(c+1,t)+n.get(c+1,t+1);(4===u||0===u)&&r++}return 3*r},a.getPenaltyN3=function(n){const i=n.size;let r=0,c=0,t=0;for(let u=0;u<i;u++){c=t=0;for(let f=0;f<i;f++)c=c<<1&2047|n.get(u,f),f>=10&&(1488===c||93===c)&&r++,t=t<<1&2047|n.get(f,u),f>=10&&(1488===t||93===t)&&r++}return 40*r},a.getPenaltyN4=function(n){let i=0;const r=n.data.length;for(let t=0;t<r;t++)i+=n.data[t];return 10*Math.abs(Math.ceil(100*i/r/5)-10)},a.applyMask=function(n,i){const r=i.size;for(let c=0;c<r;c++)for(let t=0;t<r;t++)i.isReserved(t,c)||i.xor(t,c,s(n,t,c))},a.getBestMask=function(n,i){const r=Object.keys(a.Patterns).length;let c=0,t=1/0;for(let u=0;u<r;u++){i(u),a.applyMask(u,n);const f=a.getPenaltyN1(n)+a.getPenaltyN2(n)+a.getPenaltyN3(n)+a.getPenaltyN4(n);a.applyMask(u,n),f<t&&(t=f,c=u)}return c}},3677:(S,a,l)=>{const s=l(7424),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];a.getBlocksCount=function(r,c){switch(c){case s.L:return o[4*(r-1)+0];case s.M:return o[4*(r-1)+1];case s.Q:return o[4*(r-1)+2];case s.H:return o[4*(r-1)+3];default:return}},a.getTotalCodewordsCount=function(r,c){switch(c){case s.L:return n[4*(r-1)+0];case s.M:return n[4*(r-1)+1];case s.Q:return n[4*(r-1)+2];case s.H:return n[4*(r-1)+3];default:return}}},4662:S=>{function a(){this.buffer=[],this.length=0}a.prototype={get:function(l){const s=Math.floor(l/8);return 1==(this.buffer[s]>>>7-l%8&1)},put:function(l,s){for(let o=0;o<s;o++)this.putBit(1==(l>>>s-o-1&1))},getLengthInBits:function(){return this.length},putBit:function(l){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),l&&(this.buffer[s]|=128>>>this.length%8),this.length++}},S.exports=a},4969:(S,a,l)=>{const s=l(1677);function o(n){this.mode=s.BYTE,this.data="string"==typeof n?(new TextEncoder).encode(n):new Uint8Array(n)}o.getBitsLength=function(i){return 8*i},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(n){for(let i=0,r=this.data.length;i<r;i++)n.put(this.data[i],8)},S.exports=o},5941:S=>{function a(l){if(!l||l<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=l,this.data=new Uint8Array(l*l),this.reservedBit=new Uint8Array(l*l)}a.prototype.set=function(l,s,o,n){const i=l*this.size+s;this.data[i]=o,n&&(this.reservedBit[i]=!0)},a.prototype.get=function(l,s){return this.data[l*this.size+s]},a.prototype.xor=function(l,s,o){this.data[l*this.size+s]^=o},a.prototype.isReserved=function(l,s){return this.reservedBit[l*this.size+s]},S.exports=a},6214:(S,a,l)=>{const s=l(9089).getSymbolSize;a.getRowColCoords=function(n){if(1===n)return[];const i=Math.floor(n/7)+2,r=s(n),c=145===r?26:2*Math.ceil((r-13)/(2*i-2)),t=[r-7];for(let u=1;u<i-1;u++)t[u]=t[u-1]-c;return t.push(6),t.reverse()},a.getPositions=function(n){const i=[],r=a.getRowColCoords(n),c=r.length;for(let t=0;t<c;t++)for(let u=0;u<c;u++)0===t&&0===u||0===t&&u===c-1||t===c-1&&0===u||i.push([r[t],r[u]]);return i}},6254:(S,a,l)=>{const s=l(9089),i=s.getBCHDigit(1335);a.getEncodedBits=function(c,t){const u=c.bit<<3|t;let f=u<<10;for(;s.getBCHDigit(f)-i>=0;)f^=1335<<s.getBCHDigit(f)-i;return 21522^(u<<10|f)}},6269:(S,a,l)=>{const s=l(9089).getSymbolSize;a.getPositions=function(i){const r=s(i);return[[0,0],[r-7,0],[0,r-7]]}},6289:(S,a,l)=>{const s=l(1744);function o(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(i){this.degree=i,this.genPoly=s.generateECPolynomial(this.degree)},o.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(i.length+this.degree);r.set(i);const c=s.mod(r,this.genPoly),t=this.degree-c.length;if(t>0){const u=new Uint8Array(this.degree);return u.set(c,t),u}return c},S.exports=o},6511:(S,a,l)=>{const s=l(7077);function o(r,c){const t=r.a/255,u=c+'="'+r.hex+'"';return t<1?u+" "+c+'-opacity="'+t.toFixed(2).slice(1)+'"':u}function n(r,c,t){let u=r+c;return typeof t<"u"&&(u+=" "+t),u}a.render=function(c,t,u){const f=s.getOptions(t),b=c.modules.size,A=c.modules.data,h=b+2*f.margin,w=f.color.light.a?"<path "+o(f.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",R="<path "+o(f.color.dark,"stroke")+' d="'+function i(r,c,t){let u="",f=0,b=!1,A=0;for(let h=0;h<r.length;h++){const w=Math.floor(h%c),R=Math.floor(h/c);!w&&!b&&(b=!0),r[h]?(A++,h>0&&w>0&&r[h-1]||(u+=b?n("M",w+t,.5+R+t):n("m",f,0),f=0,b=!1),w+1<c&&r[h+1]||(u+=n("h",A),A=0)):f++}return u}(A,b,f.margin)+'"/>',T='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+h+" "+h+'" shape-rendering="crispEdges">'+w+R+"</svg>\n";return"function"==typeof u&&u(null,T),T}},6628:(S,a,l)=>{const s=l(1677);function o(n){this.mode=s.NUMERIC,this.data=n.toString()}o.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(i){let r,c,t;for(r=0;r+3<=this.data.length;r+=3)c=this.data.substr(r,3),t=parseInt(c,10),i.put(t,10);const u=this.data.length-r;u>0&&(c=this.data.substr(r),t=parseInt(c,10),i.put(t,3*u+1))},S.exports=o},6686:(S,a)=>{const l=new Uint8Array(512),s=new Uint8Array(256);(function(){let n=1;for(let i=0;i<255;i++)l[i]=n,s[n]=i,n<<=1,256&n&&(n^=285);for(let i=255;i<512;i++)l[i]=l[i-255]})(),a.log=function(n){if(n<1)throw new Error("log("+n+")");return s[n]},a.exp=function(n){return l[n]},a.mul=function(n,i){return 0===n||0===i?0:l[s[n]+s[i]]}},7030:(S,a,l)=>{const s=l(7077);a.render=function(r,c,t){let u=t,f=c;typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),c||(f=function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),u=s.getOptions(u);const b=s.getImageWidth(r.modules.size,u),A=f.getContext("2d"),h=A.createImageData(b,b);return s.qrToImageData(h.data,r,u),function o(i,r,c){i.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=c,r.width=c,r.style.height=c+"px",r.style.width=c+"px"}(A,f,b),A.putImageData(h,0,0),f},a.renderToDataURL=function(r,c,t){let u=t;return typeof u>"u"&&(!c||!c.getContext)&&(u=c,c=void 0),u||(u={}),a.render(r,c,u).toDataURL(u.type||"image/png",(u.rendererOpts||{}).quality)}},7077:(S,a)=>{function l(s){if("number"==typeof s&&(s=s.toString()),"string"!=typeof s)throw new Error("Color should be defined as hex string");let o=s.slice().replace("#","").split("");if(o.length<3||5===o.length||o.length>8)throw new Error("Invalid hex color: "+s);(3===o.length||4===o.length)&&(o=Array.prototype.concat.apply([],o.map(function(i){return[i,i]}))),6===o.length&&o.push("F","F");const n=parseInt(o.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+o.slice(0,6).join("")}}a.getOptions=function(o){o||(o={}),o.color||(o.color={});const i=o.width&&o.width>=21?o.width:void 0;return{width:i,scale:i?4:o.scale||4,margin:typeof o.margin>"u"||null===o.margin||o.margin<0?4:o.margin,color:{dark:l(o.color.dark||"#000000ff"),light:l(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},a.getScale=function(o,n){return n.width&&n.width>=o+2*n.margin?n.width/(o+2*n.margin):n.scale},a.getImageWidth=function(o,n){const i=a.getScale(o,n);return Math.floor((o+2*n.margin)*i)},a.qrToImageData=function(o,n,i){const r=n.modules.size,c=n.modules.data,t=a.getScale(r,i),u=Math.floor((r+2*i.margin)*t),f=i.margin*t,b=[i.color.light,i.color.dark];for(let A=0;A<u;A++)for(let h=0;h<u;h++){let w=4*(A*u+h),R=i.color.light;A>=f&&h>=f&&A<u-f&&h<u-f&&(R=b[c[Math.floor((A-f)/t)*r+Math.floor((h-f)/t)]?1:0]),o[w++]=R.r,o[w++]=R.g,o[w++]=R.b,o[w]=R.a}}},7424:(S,a)=>{a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2},a.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},a.from=function(o,n){if(a.isValid(o))return o;try{return function l(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+s)}}(o)}catch{return n}}},8314:(S,a,l)=>{const s=l(2836),o=l(9460),n=l(7030),i=l(6511);function r(c,t,u,f,b){const A=[].slice.call(arguments,1),h=A.length,w="function"==typeof A[h-1];if(!w&&!s())throw new Error("Callback required as last argument");if(!w){if(h<1)throw new Error("Too few arguments provided");return 1===h?(u=t,t=f=void 0):2===h&&!t.getContext&&(f=u,u=t,t=void 0),new Promise(function(R,N){try{const U=o.create(u,f);R(c(U,t,f))}catch(U){N(U)}})}if(h<2)throw new Error("Too few arguments provided");2===h?(b=u,u=t,t=f=void 0):3===h&&(t.getContext&&typeof b>"u"?(b=f,f=void 0):(b=f,f=u,u=t,t=void 0));try{const R=o.create(u,f);b(null,c(R,t,f))}catch(R){b(R)}}a.create=o.create,a.toCanvas=r.bind(null,n.render),a.toDataURL=r.bind(null,n.renderToDataURL),a.toString=r.bind(null,function(c,t,u){return i.render(c,u)})},9089:(S,a)=>{let l;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];a.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return 4*n+17},a.getSymbolTotalCodewords=function(n){return s[n]},a.getBCHDigit=function(o){let n=0;for(;0!==o;)n++,o>>>=1;return n},a.setToSJISFunction=function(n){if("function"!=typeof n)throw new Error('"toSJISFunc" is not a valid function.');l=n},a.isKanjiModeEnabled=function(){return typeof l<"u"},a.toSJIS=function(n){return l(n)}},9359:(S,a)=>{const l="[0-9]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+")(?:.|[\r\n]))+";a.KANJI=new RegExp(o,"g"),a.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),a.BYTE=new RegExp(n,"g"),a.NUMERIC=new RegExp(l,"g"),a.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const i=new RegExp("^"+o+"$"),r=new RegExp("^"+l+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");a.testKanji=function(u){return i.test(u)},a.testNumeric=function(u){return r.test(u)},a.testAlphanumeric=function(u){return c.test(u)}},9460:(S,a,l)=>{const s=l(9089),o=l(7424),n=l(4662),i=l(5941),r=l(6214),c=l(6269),t=l(3361),u=l(3677),f=l(6289),b=l(1252),A=l(6254),h=l(1677),w=l(2868);function L(C,_,E){const m=C.size,v=A.getEncodedBits(_,E);let M,d;for(M=0;M<15;M++)d=1==(v>>M&1),C.set(M<6?M:M<8?M+1:m-15+M,8,d,!0),C.set(8,M<8?m-M-1:M<9?15-M-1+1:15-M-1,d,!0);C.set(m-8,8,1,!0)}function j(C,_,E,m){let v;if(Array.isArray(C))v=w.fromArray(C);else{if("string"!=typeof C)throw new Error("Invalid data");{let g=_;if(!g){const p=w.rawSplit(C);g=b.getBestVersionForData(p,E)}v=w.fromString(C,g||40)}}const M=b.getBestVersionForData(v,E);if(!M)throw new Error("The amount of data is too big to be stored in a QR Code");if(_){if(_<M)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+M+".\n")}else _=M;const d=function P(C,_,E){const m=new n;E.forEach(function(e){m.put(e.mode.bit,4),m.put(e.getLength(),h.getCharCountIndicator(e.mode,C)),e.write(m)});const d=8*(s.getSymbolTotalCodewords(C)-u.getTotalCodewordsCount(C,_));for(m.getLengthInBits()+4<=d&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(0);const y=(d-m.getLengthInBits())/8;for(let e=0;e<y;e++)m.put(e%2?17:236,8);return function k(C,_,E){const m=s.getSymbolTotalCodewords(_),M=m-u.getTotalCodewordsCount(_,E),d=u.getBlocksCount(_,E),e=d-m%d,g=Math.floor(m/d),p=Math.floor(M/d),I=p+1,F=g-p,O=new f(F);let D=0;const z=new Array(d),H=new Array(d);let x=0;const K=new Uint8Array(C.buffer);for(let $=0;$<d;$++){const Y=$<e?p:I;z[$]=K.slice(D,D+Y),H[$]=O.encode(z[$]),D+=Y,x=Math.max(x,Y)}const Q=new Uint8Array(m);let V,G,J=0;for(V=0;V<x;V++)for(G=0;G<d;G++)V<z[G].length&&(Q[J++]=z[G][V]);for(V=0;V<F;V++)for(G=0;G<d;G++)Q[J++]=H[G][V];return Q}(m,C,_)}(_,E,v),y=s.getSymbolSize(_),e=new i(y);return function R(C,_){const E=C.size,m=c.getPositions(_);for(let v=0;v<m.length;v++){const M=m[v][0],d=m[v][1];for(let y=-1;y<=7;y++)if(!(M+y<=-1||E<=M+y))for(let e=-1;e<=7;e++)d+e<=-1||E<=d+e||C.set(M+y,d+e,y>=0&&y<=6&&(0===e||6===e)||e>=0&&e<=6&&(0===y||6===y)||y>=2&&y<=4&&e>=2&&e<=4,!0)}}(e,_),function N(C){const _=C.size;for(let E=8;E<_-8;E++){const m=E%2==0;C.set(E,6,m,!0),C.set(6,E,m,!0)}}(e),function U(C,_){const E=r.getPositions(_);for(let m=0;m<E.length;m++){const v=E[m][0],M=E[m][1];for(let d=-2;d<=2;d++)for(let y=-2;y<=2;y++)C.set(v+d,M+y,-2===d||2===d||-2===y||2===y||0===d&&0===y,!0)}}(e,_),L(e,E,0),_>=7&&function T(C,_){const E=C.size,m=b.getEncodedBits(_);let v,M,d;for(let y=0;y<18;y++)v=Math.floor(y/3),M=y%3+E-8-3,d=1==(m>>y&1),C.set(v,M,d,!0),C.set(M,v,d,!0)}(e,_),function B(C,_){const E=C.size;let m=-1,v=E-1,M=7,d=0;for(let y=E-1;y>0;y-=2)for(6===y&&y--;;){for(let e=0;e<2;e++)if(!C.isReserved(v,y-e)){let g=!1;d<_.length&&(g=1==(_[d]>>>M&1)),C.set(v,y-e,g),M--,-1===M&&(d++,M=7)}if(v+=m,v<0||E<=v){v-=m,m=-m;break}}}(e,d),isNaN(m)&&(m=t.getBestMask(e,L.bind(null,e,E))),t.applyMask(m,e),L(e,E,m),{modules:e,version:_,errorCorrectionLevel:E,maskPattern:m,segments:v}}a.create=function(_,E){if(typeof _>"u"||""===_)throw new Error("No input text");let v,M,m=o.M;return typeof E<"u"&&(m=o.from(E.errorCorrectionLevel,o.M),v=b.from(E.version),M=t.from(E.maskPattern),E.toSJISFunc&&s.setToSJISFunction(E.toSJISFunc)),j(_,v,m,M)}}}]);