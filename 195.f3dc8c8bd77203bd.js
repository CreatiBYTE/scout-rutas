"use strict";(self.webpackChunkscout_rutas=self.webpackChunkscout_rutas||[]).push([[195],{7195:(p,u,t)=>{t.r(u),t.d(u,{LoginComponent:()=>d});var o=t(9417),m=t(2881),f=t(6704),l=t(9978),_=t(8834),r=t(1360),g=t(1114),c=t(2281),i=t(2392);function E(s,M){if(1&s&&(r.j41(0,"mat-error"),r.EFF(1),r.k0s()),2&s){const e=r.XpG();r.R7$(),r.JRh(e.errorMessage)}}let d=(()=>{class s{fb;router;rutasService;form;errorMessage="";rutasSub;constructor(e,a,n){this.fb=e,this.router=a,this.rutasService=n,this.form=this.fb.group({username:["",o.k0.required],password:["",o.k0.required]})}login(){const{username:e,password:a}=this.form.value;"admin"===e&&"soyscout"===a?(this.rutasSub?.unsubscribe(),this.rutasSub=this.rutasService.obtenerRutas().subscribe({next:n=>{this.router.navigate(0===n.length?["/crear"]:["/rutas"])},error:n=>{console.error("Error al obtener rutas",n),this.errorMessage="Error al obtener rutas"}})):this.errorMessage="Usuario o contrase\xf1a incorrectos"}ngOnDestroy(){this.rutasSub?.unsubscribe()}static \u0275fac=function(a){return new(a||s)(r.rXU(o.ok),r.rXU(g.Ix),r.rXU(c.r))};static \u0275cmp=r.VBU({type:s,selectors:[["app-login"]],decls:15,vars:2,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username"],["matInput","","type","password","formControlName","password"],["mat-raised-button","","color","primary","type","submit",1,"full-width"],[4,"ngIf"]],template:function(a,n){1&a&&(r.j41(0,"div",0)(1,"h2"),r.EFF(2,"Iniciar sesi\xf3n"),r.k0s(),r.j41(3,"form",1),r.bIt("ngSubmit",function(){return n.login()}),r.j41(4,"mat-form-field",2)(5,"mat-label"),r.EFF(6,"Usuario"),r.k0s(),r.nrm(7,"input",3),r.k0s(),r.j41(8,"mat-form-field",2)(9,"mat-label"),r.EFF(10,"Contrase\xf1a"),r.k0s(),r.nrm(11,"input",4),r.k0s(),r.j41(12,"button",5),r.EFF(13," Iniciar sesi\xf3n "),r.k0s()(),r.DNE(14,E,2,1,"mat-error",6),r.k0s()),2&a&&(r.R7$(3),r.Y8G("formGroup",n.form),r.R7$(11),r.Y8G("ngIf",n.errorMessage))},dependencies:[m.MD,m.bT,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,f.M,i.j,i.M,i.b,l.fS,l.fg,_.Hl,_.$z],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:5rem auto;padding:2rem;background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000001a}.login-container[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}"]})}return s})()}}]);